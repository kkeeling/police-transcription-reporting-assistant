<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Stories: Sprint 3 - Backend Integration and Report Generation</title>
</head>
<body>
    <h1>User Stories: Sprint 3 - Backend Integration and Report Generation</h1>

    <h2>US-3.1: Implement Backend Audio Transcription</h2>
    <p><strong>As a</strong> developer,<br>
    <strong>I want to</strong> implement audio transcription on the backend using Insanely Fast Whisper,<br>
    <strong>So that</strong> we can accurately convert audio to text for report generation.</p>
    <h3>Acceptance Criteria:</h3>
    <ul>
        <li>Set up Insanely Fast Whisper in the backend environment</li>
        <li>Create an API endpoint to receive audio files or streams</li>
        <li>Implement transcription logic using Insanely Fast Whisper</li>
        <li>Return transcribed text to the frontend via API response</li>
        <li>Handle potential errors and provide appropriate error messages</li>
    </ul>

    <h2>US-3.2: Integrate Frontend with Transcription API</h2>
    <p><strong>As a</strong> police officer,<br>
    <strong>I want to</strong> see my recorded or uploaded audio transcribed in real-time,<br>
    <strong>So that</strong> I can review and edit the transcription if necessary.</p>
    <h3>Acceptance Criteria:</h3>
    <ul>
        <li>Use Axios to send audio data to the backend transcription API</li>
        <li>Display a loading indicator while transcription is in progress</li>
        <li>Update the transcription area with the received text in real-time</li>
        <li>Allow users to edit the transcribed text if needed</li>
        <li>Implement error handling for failed API calls</li>
    </ul>

    <h2>US-3.3: Create System and User Prompts for LLMs</h2>
    <p><strong>As a</strong> developer,<br>
    <strong>I want to</strong> create effective system and user prompts for the LLMs,<br>
    <strong>So that</strong> we can generate accurate and well-structured police reports from the transcriptions.</p>
    <h3>Acceptance Criteria:</h3>
    <ul>
        <li>Research and define the standard structure and content of police reports</li>
        <li>Create a system prompt that instructs the LLM on the desired report format and style</li>
        <li>Develop user prompts that effectively combine the transcription with instructions for report generation</li>
        <li>Include prompts for different sections of the report (e.g., incident details, witness statements, etc.)</li>
        <li>Test the prompts with sample transcriptions to ensure they produce the desired report structure</li>
        <li>Implement a mechanism to easily update and maintain these prompts in the backend</li>
    </ul>

    <h2>US-3.4: Implement Report Generation Backend</h2>
    <p><strong>As a</strong> developer,<br>
    <strong>I want to</strong> implement report generation using the Mixture-of-Agents approach with Ollama,<br>
    <strong>So that</strong> we can create well-formatted police reports from transcriptions.</p>
    <h3>Acceptance Criteria:</h3>
    <ul>
        <li>Set up Ollama in the backend environment</li>
        <li>Implement the Mixture-of-Agents approach for report generation</li>
        <li>Create an API endpoint to receive transcribed text and generate reports</li>
        <li>Integrate the system and user prompts created in US-3.3 into the report generation process</li>
        <li>Ensure generated reports follow the required police report format</li>
        <li>Handle potential errors in the report generation process</li>
    </ul>

    <h2>US-3.5: Integrate Frontend with Report Generation API</h2>
    <p><strong>As a</strong> police officer,<br>
    <strong>I want to</strong> generate a formatted report from my transcription,<br>
    <strong>So that</strong> I can quickly create standardized police reports.</p>
    <h3>Acceptance Criteria:</h3>
    <ul>
        <li>Implement functionality for the "Generate Report" button using Axios</li>
        <li>Send transcribed text to the backend report generation API</li>
        <li>Display a loading indicator while the report is being generated</li>
        <li>Show the generated report in a new view or modal</li>
        <li>Allow users to edit the generated report if needed</li>
        <li>Implement error handling for failed API calls</li>
    </ul>

    <h2>US-3.6: Implement Report Editing and Formatting</h2>
    <p><strong>As a</strong> police officer,<br>
    <strong>I want to</strong> edit and format the generated report,<br>
    <strong>So that</strong> I can make necessary adjustments before finalizing it.</p>
    <h3>Acceptance Criteria:</h3>
    <ul>
        <li>Create a rich text editor for report editing</li>
        <li>Implement basic formatting options (bold, italic, bullet points, etc.)</li>
        <li>Allow users to add or remove sections in the report</li>
        <li>Ensure the edited report maintains the required police report structure</li>
    </ul>

    <h2>US-3.7: Implement PDF Export</h2>
    <p><strong>As a</strong> police officer,<br>
    <strong>I want to</strong> export my generated report as a PDF,<br>
    <strong>So that</strong> I can easily share or print the final document.</p>
    <h3>Acceptance Criteria:</h3>
    <ul>
        <li>Add a "Export to PDF" button in the report view</li>
        <li>Implement PDF generation on the backend using a suitable library</li>
        <li>Create an API endpoint for PDF generation and download</li>
        <li>Ensure the PDF maintains the formatting and structure of the report</li>
        <li>Allow users to download the generated PDF</li>
    </ul>
</body>
</html>
